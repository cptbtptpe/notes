## 常用加密算法

- [x] `AES`: 更快，兼容设备，安全级别高；
- [x] `SHA1`: 公钥后处理回传
- [x] `DES`: 本地数据，安全级别低
- [x] `RSA`: 非对称加密，有公钥和私钥
- [x] `MD5`: 防篡改

### 非对称加密/公开密钥加密

> 公开密钥加密（public-key cryptography），也称为非对称加密（asymmetric cryptography）

> 一种密码学算法类型，在这种密码学方法中，需要一对密钥，一个是私人密钥，另一个则是公开密钥
这两个密钥是数学相关，用某用户密钥加密后所得的信息，只能用该用户的解密密钥才能解密

> 如果知道了其中一个，并不能计算出另外一个。因此如果公开了一对密钥中的一个，并不会危害到另外一个的秘密性质
称公开的密钥为公钥；不公开的密钥为私钥
	
### RSA 密钥生成

> \$ openssl genrsa -out rsa_private_key.pem 1024
\$ openssl pkcs8 -topk8 -inform PEM -in rsa_private_key.pem -outform PEM -nocrypt
\$ openssl rsa -in rsa_private_key.pem -pubout -out rsa_public_key.pem
\$ openssl asn1parse -i -inform PEM < rsa_private_key.pem > hex.log

> 最后一个命令生成的结果
第一段为公钥十六进制串可用于 JS 端加密
第二段为密钥十六进制串可用于 JS 端加密

### DES

> DES 现在已经不是一种安全的加密方法，主要因为它使用的 56 位密钥过短

> 1999 年 1 月，distributed.NET 与电子前哨基金会合作，在 22 小时 15 分钟内即公开破解了一个DES密钥
也有一些分析报告提出了该算法的理论上的弱点，虽然在实际中难以应用

> 为了提供实用所需的安全性，可以使用 DES 的派生算法 3DES 来进行加密，虽然 3DES 也存在理论上的攻击方法
在 2001 年，DES 作为一个标准已经被高级加密标准（AES）所取代

> 另外，DES 已经不再作为国家标准科技协会（前国家标准局）的一个标准。

### AES

> 高级加密标准（Advanced Encryption Standard）

> 在密码学中又称 Rijndael 加密法，是美国联邦政府采用的一种区块加密标准
这个标准用来替代原先的 DES，已经被多方分析且广为全世界所使用
经过五年的甄选流程，高级加密标准由美国国家标准与技术研究院（NIST）于 2001 年 11 月 26 日发布于 FIPS PUB 197
并在 2002 年 5 月 26 日成为有效的标准。2006 年，高级加密标准已然成为对称密钥加密中最流行的算法之一

### MD5 && SHA1

> MD5 和 SHA1 是 2 种加密算法，用于计算出一段不可逆向计算的数值，以此来验证该文件是否被修改的

> 在 1993 年，安全散列算法（SHA）由美国国家标准和技术协会(NIST)提出，并作为联邦信息处理标准（FIPS PUB 180）公布
1995 年又发布了一个修订版 FIPS PUB 180-1，通常称之为 SHA-1
SHA-1 是基于 MD4 算法的，并且它的设计在很大程度上是模仿 MD4 的
现在已成为公认的最安全的散列算法之一，并被广泛使用。

> SHA-1 是一种数据加密算法
该算法的思想是接收一段明文，然后以一种不可逆的方式将它转换成一段（通常更小）密文
也可以简单的理解为取一串输入码（称为预映射或信息）
并把它们转化为长度较短、位数固定的输出序列即散列值（也称为信息摘要或信息认证代码）的过程

> 单向散列函数的安全性在于其产生散列值的操作过程具有较强的单向性
如果在输入序列中嵌入密码，那么任何人在不知道密码的情况下都不能产生正确的散列值，从而保证了其安全性
SHA 将输入流按照每块 512 位（64 个字节）进行分块，并产生 20 个字节的被称为信息认证代码或信息摘要的输出

> 该算法输入报文的最大长度不超过 264 位，产生的输出是一个 160 位的报文摘要
输入是按 512 位的分组进行处理的。SHA-1 是不可逆的、防冲突，并具有良好的雪崩效应

> 通过散列算法可实现数字签名实现
数字签名的原理是将要传送的明文通过一种函数运算（Hash）转换成报文摘要（不同的明文对应不同的报文摘要）
报文摘要加密后与明文一起传送给接受方，接受方将接受的明文产生新的报文摘要与发送方的发来报文摘要解密比较
比较结果一致表示明文未被改动，如果不一致表示明文已被篡改

### 总结

* aes/des 加密速度快，适合大量数据
* des 容易破解，一般用 3des，后来又出现了更快更安全的 aes
* rsa 是公钥加密，速度慢，只能处理少量数据，优点是公钥即使在不安全的网络上公开，也能保证安全
* 常见情况是双方用 rsa 协商出一个密钥后通过 aes/3des 给数据加密
